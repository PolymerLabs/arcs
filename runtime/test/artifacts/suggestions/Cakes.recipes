// @license
// Copyright (c) 2018 Google Inc. All rights reserved.
// This code may only be used under the BSD style license found at
// http://polymer.github.io/LICENSE.txt
// Code distributed by Google as part of this project is also
// subject to an additional IP rights grant found at
// http://polymer.github.io/PATENTS.txt

schema Cake
  Text name
  Text occasion

particle MakeCake in 'source/MakeCake.js'
  in Cake cake
  consume item
    provide annotation
      handle cake
  description `Make a ${cake} cake`

recipe
  map #cake as cakeHandle
  slot #root as rootSlot
  MakeCake
    cake <- cakeHandle
    consume item as rootSlot

particle LightCandles in 'source/LightCandles.js'
  in Cake birthdayCake
  consume candles
  description `Light candles on ${birthdayCake} cake`

recipe
  map #cake as cakeHandle
  slot #annotation as annotationSlot
  LightCandles
    birthdayCake <- cakeHandle
    consume candles as annotationSlot

store ACake of Cake #cake in 'cakes.json'

store AllCakes of [Cake] #cakes in 'cakes.json'
